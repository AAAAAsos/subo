<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <!-- –í–∞–∂–Ω—ã–π meta –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

  <title>MARVEL AntiScam Bot</title>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Animate.css –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Google Fonts (Poppins) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" />

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram WebApp JS (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö user) -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    /* –°–±—Ä–æ—Å –æ—Ç—Å—Ç—É–ø–æ–≤ –∏ –±–∞–∑–æ–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
      overflow-x: hidden; 
    }

    /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —á–µ—Ä–µ–∑ body::after */
    body::after {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -999;
      background: linear-gradient(270deg, #ff0000, #9000ff, #007bff, #00ff9e);
      background-size: 800% 800%;
      animation: gradientBG 15s ease infinite;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .marvel-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -998;
      pointer-events: none; 
      overflow: hidden;
    }
    .marvel-background img.char {
      position: absolute;
      opacity: 0.13;
      max-width: 40%;
    }
    .marvel-background img.ironman {
      top: 10%;
      left: -5%;
      transform: rotate(-10deg);
    }
    .marvel-background img.thor {
      bottom: 0;
      right: 0;
      transform: rotate(10deg);
      max-width: 35%;
    }
    .marvel-background img.spiderman {
      top: 40%;
      left: 50%;
      transform: translateX(-50%) rotate(0deg);
      max-width: 30%;
    }

    /* –®–∞–ø–∫–∞ */
    header {
      width: 100%;
      padding: 20px 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(0,0,0,0.3);
    }
    .marvel-logo {
      width: 180px;
      filter: drop-shadow(0 0 10px rgba(255,0,0,0.6));
      cursor: pointer;
      transition: transform 0.5s ease;
    }
    .marvel-logo:hover {
      transform: scale(1.05) rotate(2deg);
    }
    .animate__animated.marvel-logo {
      --animate-duration: 2s;
    }

    main {
      width: 100%;
      max-width: 1200px;
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px 20px;
    }

    /* –†–∞–∑–¥–µ–ª "–û –ë–æ—Ç–µ" */
    .about-bot {
      text-align: center;
      margin-bottom: 40px;
    }
    .about-bot h1 {
      font-size: 2.4rem;
      margin-bottom: 20px;
      color: #f00; 
      text-shadow: 1px 1px 4px #f00;
    }
    .about-bot p {
      font-size: 1.1rem;
      line-height: 1.6;
      max-width: 800px;
      margin: 0 auto;
      opacity: 0.9;
    }

    /* –ë–ª–æ–∫ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ */
    .commands {
      width: 100%;
      max-width: 1000px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 40px;
    }
    .commands h2 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: #f7f7f7;
      text-align: center;
      text-transform: uppercase;
      text-shadow: 1px 1px 4px #f00;
      animation: bounceInDown 1.5s;
    }
    .command-list {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 10px;
      justify-content: center;
    }
    .command-item {
      background-color: rgba(255, 0, 0, 0.1);
      border: 2px solid rgba(255,0,0,0.3);
      border-radius: 8px;
      padding: 15px;
      width: 280px;
      box-shadow: 0 0 10px rgba(255,0,0,0.2);
      position: relative;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    .command-item:hover {
      transform: translateY(-5px);
      background-color: rgba(255, 0, 0, 0.15);
    }
    .command-item h3 {
      margin-bottom: 10px;
      color: #fff;
      font-size: 1.2rem;
      text-shadow: 1px 1px 2px #f00;
      text-align: center;
    }
    .command-item p {
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /* –†–∞–∑–¥–µ–ª "–ò–≥—Ä—ã" */
    .games-section {
      width: 100%;
      max-width: 900px;
      margin-bottom: 40px;
    }
    .games-section h2 {
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 15px;
      text-shadow: 1px 1px 4px #f00;
    }
    .game-container {
      background-color: rgba(255, 0, 0, 0.1);
      border: 2px solid rgba(255,0,0,0.3);
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(255,0,0,0.2);
      margin-bottom: 15px;
      text-align: center;
      position: relative;
    }
    #runnerCanvas {
      display: block;
      margin: 0 auto;
      background-color: #222;
      border: 2px solid #555;
    }
    .game-container p {
      margin-top: 8px;
      font-size: 0.95rem;
      color: #ccc;
    }
    #restartBtn, #fullscreenBtn {
      display: inline-block;
      margin: 8px;
      padding: 6px 12px;
      background-color: #f00;
      border: none;
      border-radius: 4px;
      color: #fff;
      cursor: pointer;
      font-size: 0.95rem;
    }
    #restartBtn:hover, #fullscreenBtn:hover {
      background-color: #e00;
    }
    #restartBtn {
      display: none; /* –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç */
    }

    /* "–°–æ–∑–¥–∞—Ç–µ–ª—å –∏ –ö–æ–¥–µ—Ä" */
    .team-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 800px;
      margin-bottom: 40px;
    }
    .team-section h2 {
      font-size: 1.6rem;
      margin-bottom: 15px;
      text-shadow: 1px 1px 4px #f00;
      text-align: center;
    }
    .team-cards {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .team-card {
      width: 250px;
      background-color: rgba(255, 0, 0, 0.1);
      border: 2px solid rgba(255,0,0,0.3);
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(255,0,0,0.2);
      text-align: center;
      transition: transform 0.3s ease;
    }
    .team-card:hover {
      transform: translateY(-3px);
    }
    .team-card h3 {
      margin-bottom: 10px;
      color: #fff;
      font-size: 1.2rem;
      text-shadow: 1px 1px 2px #f00;
    }
    .team-card p {
      font-size: 0.95rem;
      margin-bottom: 5px;
    }

    /* –ë–ª–æ–∫ footer */
    footer {
      width: 100%;
      text-align: center;
      padding: 15px 0;
      background-color: rgba(0,0,0,0.4);
      font-size: 0.9rem;
      color: #999;
    }

    /* –ë–ª–æ–∫ —Å –∞–≤–∞—Ç–∞—Ä–æ–º –∏ –Ω–∏–∫–æ–º */
    #user-info {
      position: absolute;
      top: 10px;
      right: 10px;
      display: flex;
      align-items: center;
      z-index: 9999;
    }
    #user-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      margin-right: 8px;
      object-fit: cover;
      border: 2px solid #fff;
    }
    #user-name {
      font-size: 0.9rem;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      max-width: 120px; 
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ */
    @media (max-width: 768px) {
      .about-bot h1 {
        font-size: 1.8rem;
      }
      .command-item {
        width: 90%;
      }
      .commands h2,
      .games-section h2 {
        font-size: 1.5rem;
      }
      .team-card {
        width: 80%;
      }
      #runnerCanvas {
        width: 100% !important;
        height: 200px !important;
      }
    }

  </style>
</head>

<body>
  <!-- –§–æ–Ω–æ–≤—ã–π –±–ª–æ–∫ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ -->
  <div class="marvel-background">
    <img src="https://purepng.com/public/uploads/thumbnail/purepng.com-ironmanironmansuperheromarvel-comicscharactermarvel-studiosrobert-downey-jrtony-stark-1701528612145iw0di.png" alt="IronMan" class="char ironman"/>
    <img src="https://i.pinimg.com/originals/64/dd/21/64dd213f67fd94aebe9613166c8fa9d5.png" alt="Thor" class="char thor"/>
    <img src="https://pngimg.com/d/spider_man_PNG9.png" alt="Spiderman" class="char spiderman"/>
  </div>

  <!-- –®–∞–ø–∫–∞ -->
  <header>
    <img src="https://upload.wikimedia.org/wikipedia/commons/b/b9/Marvel_Logo.svg"
         alt="Marvel Logo"
         class="marvel-logo animate__animated animate__pulse"
         title="MARVEL"
    />
  </header>

  <main>
    <!-- –û –±–æ—Ç–µ -->
    <section class="about-bot">
      <h1>MARVEL –ê–Ω—Ç–∏–°–∫–∞–º –ë–æ—Ç</h1>
      <p>
        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –≠—Ç–æ —Å–∞–º—ã–π –º–æ—â–Ω—ã–π –ê–Ω—Ç–∏–°–∫–∞–º-–±–æ—Ç.<br/>
        <b>–ú—ã –∑–∞—â–∏—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</b>, –ø—Ä–æ–≤–µ—Ä—è–µ–º —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞ —Å–∫–∞–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≥–∞—Ä–∞–Ω—Ç-—Å–¥–µ–ª–∫–∏, 
        –¥–∞—ë–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å <em>—Å–¥–µ–ª–∞—Ç—å —Ä–µ–ø—É—Ç–∞—Ü–∏—é</em> –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
      </p>
    </section>

    <!-- –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ -->
    <section class="commands">
      <h2>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</h2>
      <div class="command-list">
        <div class="command-item animate__animated animate__fadeInLeft">
          <h3>/start</h3>
          <p>–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.</p>
        </div>
        <div class="command-item animate__animated animate__fadeInLeft">
          <h3>/check</h3>
          <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–∫–∞–º (—á–µ–∫ @username –∏–ª–∏ –æ—Ç–≤–µ—Ç).</p>
        </div>
        <div class="command-item animate__animated animate__fadeInLeft">
          <h3>/scam</h3>
          <p>–î–æ–±–∞–≤–∏—Ç—å —Å–∫–∞–º–µ—Ä–æ–≤ –≤ –±–∞–∑—É (–¥–æ—Å—Ç—É–ø–Ω–æ —Å—Ç–∞–∂—ë—Ä–∞–º/–∞–¥–º–∏–Ω–∞–º/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∞–º).</p>
        </div>
        <div class="command-item animate__animated animate__fadeInLeft">
          <h3>/trust</h3>
          <p>–í—ã–¥–∞—Ç—å —Å—Ç–∞—Ç—É—Å ¬´–ü—Ä–æ–≤–µ—Ä–µ–Ω –ì–∞—Ä–∞–Ω—Ç–æ–º¬ª (—Ç–æ–ª—å–∫–æ –≥–∞—Ä–∞–Ω—Ç—ã / –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç / –≤–ª–∞–¥–µ–ª–µ—Ü).</p>
        </div>
        <div class="command-item animate__animated animate__fadeInLeft">
          <h3>/untrust</h3>
          <p>–°–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å ¬´–ü—Ä–æ–≤–µ—Ä–µ–Ω –ì–∞—Ä–∞–Ω—Ç–æ–º¬ª (—Ç–æ–ª—å–∫–æ –≥–∞—Ä–∞–Ω—Ç—ã / –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç / –≤–ª–∞–¥–µ–ª–µ—Ü).</p>
        </div>
        <div class="command-item animate__animated animate__fadeInRight">
          <h3>/premium</h3>
          <p>–í—ã–¥–∞—Ç—å –ø—Ä–µ–º–∏—É–º (–¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ / –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞ / –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞).</p>
        </div>
        <div class="command-item animate__animated animate__fadeInRight">
          <h3>/balance</h3>
          <p>–£–∑–Ω–∞—Ç—å —Å–≤–æ–π –±–∞–ª–∞–Ω—Å <i>MarvelCoins</i>.</p>
        </div>
        <div class="command-item animate__animated animate__fadeInRight">
          <h3>üéÅ Marvel –∫–µ–π—Å—ã</h3>
          <p>–í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –∫–Ω–æ–ø–∫–∞. –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–µ–π—Å–æ–≤ –∑–∞ MarvelCoins —Å –ø—Ä–∏–∑–∞–º–∏.</p>
        </div>
      </div>
    </section>

    <!-- –ò–≥—Ä—ã: "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–∞—Ä–∫—É—Ä –∑–∞ –•–∞–ª–∫–∞" -->
    <section class="games-section">
      <h2>–ò–≥—Ä—ã</h2>
      <div class="game-container">
        <h3>Hulk Parkour in Gotham</h3>

        <!-- –ë–ª–æ–∫ —Å –∞–≤–∞—Ç–∞—Ä–∫–æ–π –∏ –∏–º–µ–Ω–µ–º (Telegram WebApp) -->
        <div id="user-info">
          <img id="user-avatar" src="" alt="avatar"/>
          <span id="user-name"></span>
        </div>

        <!-- –ö–∞–Ω–≤–∞—Å + –∫–Ω–æ–ø–∫–∏ -->
        <canvas id="runnerCanvas" width="800" height="300"></canvas>
        <p>–ù–∞–∂–º–∏—Ç–µ –ü—Ä–æ–±–µ–ª / –°—Ç—Ä–µ–ª–∫—É –≤–≤–µ—Ä—Ö –∏–ª–∏ —Ç–∞–ø–Ω–∏—Ç–µ –ø–æ —ç–∫—Ä–∞–Ω—É (—Ç–µ–ª–µ—Ñ–æ–Ω—ã), —á—Ç–æ–±—ã –ø—Ä—ã–≥–∞—Ç—å!</p>
        <button id="restartBtn">–ó–∞–Ω–æ–≤–æ</button>
        <button id="fullscreenBtn">–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π</button>
      </div>
    </section>

    <!-- –°–æ–∑–¥–∞—Ç–µ–ª—å –∏ –ö–æ–¥–µ—Ä -->
    <section class="team-section">
      <h2>–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
      <div class="team-cards">
        <div class="team-card animate__animated animate__fadeInUp">
          <h3>–°–æ–∑–¥–∞—Ç–µ–ª—å</h3>
          <p><b>Nickname:</b> @hunters667</p>
          <p>–≤–ª–∞–¥—ã–∫–∞ –≤—Å–µ—è –±–∞–∑—ã</p>
        </div>
        <div class="team-card animate__animated animate__fadeInUp">
          <h3>–ö–æ–¥–µ—Ä</h3>
          <p><b>Nickname:</b> @jonkl1r/p>
          <p>–ª—É—á—à–∏–π –∫–æ–¥–µ—Ä.</p>
        </div>
      </div>
    </section>

  </main>

  <footer>
    ¬© 2024 Marvel AntiScam. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã(–Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ—á–Ω–æ :).
  </footer>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å user-–¥–∞–Ω–Ω—ã–µ)
    let user;
    if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
      const initData = Telegram.WebApp.initDataUnsafe;
      user = initData.user; 
    }

    // –ü—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä –∏ –Ω–∏–∫ –≤ UI
    window.addEventListener('DOMContentLoaded', () => {
      const userAvatar = document.getElementById('user-avatar');
      const userName = document.getElementById('user-name');
      
      if (user) {
        userName.textContent = user.first_name + (user.last_name ? " " + user.last_name : "");
        if (user.photo_url) {
          userAvatar.src = user.photo_url;
        } else {
          userAvatar.src = "https://cdn-icons-png.flaticon.com/512/4472/4472364.png"; // placeholder
        }
      } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö, —Å–∫—Ä—ã—Ç—å –±–ª–æ–∫ –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É
        userAvatar.src = "https://cdn-icons-png.flaticon.com/512/4472/4472364.png";
        userName.textContent = "Anon";
      }
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ–≥–æ—Ç–∏–ø–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    window.addEventListener('scroll', () => {
      const logo = document.querySelector('.marvel-logo');
      if (window.scrollY > 50) {
        logo.classList.remove('animate__pulse');
        logo.classList.add('animate__heartBeat');
      } else {
        logo.classList.remove('animate__heartBeat');
        logo.classList.add('animate__pulse');
      }
    });

    // ------------
    // Hulk Runner
    // ------------
    const canvas = document.getElementById('runnerCanvas');
    const ctx = canvas.getContext('2d');
    const restartBtn = document.getElementById('restartBtn');
    const fullscreenBtn = document.getElementById('fullscreenBtn');

    let gameSpeed = 4;        
    let gravity = 0.6;        
    let isGameOver = false;
    let score = 0;

    const hulk = {
      x: 50,
      y: canvas.height - 40,
      width: 30,
      height: 40,
      dy: 0,
      jumpForce: 12,
      grounded: true,
      color: 'lime'
    };

    let obstacles = [];
    const obstacleInterval = 1500;
    let lastObstacleTime = 0;
    let backgroundOffset = 0;
    let requestId;

    // –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª
    function gameLoop(timestamp) {
      if (isGameOver) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      drawBackground();
      updateHulk();
      drawHulk();

      if (timestamp - lastObstacleTime > obstacleInterval) {
        createObstacle();
        lastObstacleTime = timestamp;
      }

      updateObstacles();

      // –°—á—ë—Ç
      ctx.fillStyle = 'white';
      ctx.font = '16px Poppins, sans-serif';
      ctx.fillText(`Score: ${score}`, 10, 20);

      requestId = requestAnimationFrame(gameLoop);
    }

    // –§–æ–Ω
    function drawBackground() {
      // –ó–µ–º–ª—è
      ctx.fillStyle = '#333';
      ctx.fillRect(0, canvas.height - 20, canvas.width, 20);
      backgroundOffset += gameSpeed * 0.3;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –•–∞–ª–∫–∞
    function updateHulk() {
      if (!hulk.grounded) {
        hulk.dy += gravity;
        hulk.y += hulk.dy;
        if (hulk.y + hulk.height >= canvas.height - 20) {
          hulk.y = canvas.height - 20 - hulk.height;
          hulk.dy = 0;
          hulk.grounded = true;
        }
      }
    }

    // –†–∏—Å–æ–≤–∞–Ω–∏–µ
    function drawHulk() {
      ctx.fillStyle = hulk.color;
      ctx.fillRect(hulk.x, hulk.y, hulk.width, hulk.height);
    }

    // –ü—Ä—ã–∂–æ–∫
    function jump() {
      if (hulk.grounded && !isGameOver) {
        hulk.grounded = false;
        hulk.dy = -hulk.jumpForce;
      }
    }

    // –ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
    function createObstacle() {
      const obstacleHeight = 30 + Math.random() * 30; 
      const obstacleWidth = 15 + Math.random() * 30; 
      obstacles.push({
        x: canvas.width,
        y: canvas.height - 20 - obstacleHeight,
        width: obstacleWidth,
        height: obstacleHeight,
        color: 'gray',
        passed: false
      });
    }
    function updateObstacles() {
      for (let i = 0; i < obstacles.length; i++) {
        let obs = obstacles[i];
        obs.x -= gameSpeed;

        ctx.fillStyle = obs.color;
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);

        if (collision(hulk, obs)) {
          gameOver();
        }
        if (obs.x + obs.width < hulk.x && !obs.passed) {
          obs.passed = true;
          score++;
        }
      }
      obstacles = obstacles.filter(obs => obs.x + obs.width > 0);
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–ª–∏–∑–∏–∏
    function collision(a, b) {
      return (
        a.x < b.x + b.width &&
        a.x + a.width > b.x &&
        a.y < b.y + b.height &&
        a.y + a.height > b.y
      );
    }

    // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
    function gameOver() {
      isGameOver = true;
      ctx.fillStyle = 'red';
      ctx.font = '40px Poppins, sans-serif';
      ctx.fillText('GAME OVER', canvas.width / 2 - 100, canvas.height / 2);
      restartBtn.style.display = 'inline-block';
    }

    // –°—Ç–∞—Ä—Ç / –†–µ—Å—Ç–∞—Ä—Ç
    function startGame() {
      score = 0;
      isGameOver = false;
      hulk.x = 50;
      hulk.y = canvas.height - 40;
      hulk.dy = 0;
      hulk.grounded = true;
      obstacles = [];
      lastObstacleTime = 0;
      backgroundOffset = 0;
      restartBtn.style.display = 'none';
      requestId = requestAnimationFrame(gameLoop);
    }

    // –ö–Ω–æ–ø–∫–∞ ¬´–ó–∞–Ω–æ–≤–æ¬ª
    restartBtn.addEventListener('click', () => {
      startGame();
    });

    // –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π¬ª
    fullscreenBtn.addEventListener('click', () => {
      // –ó–∞–ø—Ä–æ—Å –ø–æ–ª–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è body –∏–ª–∏ html
      const docEl = document.documentElement;
      if (docEl.requestFullscreen) {
        docEl.requestFullscreen();
      } else if (docEl.mozRequestFullScreen) {
        docEl.mozRequestFullScreen();
      } else if (docEl.webkitRequestFullscreen) {
        docEl.webkitRequestFullscreen();
      } else if (docEl.msRequestFullscreen) {
        docEl.msRequestFullscreen();
      }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à ‚Äî –æ—Ç–∫–ª—é—á–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –ø—Ä–∏ –ø—Ä–æ–±–µ–ª–µ
    window.addEventListener('keydown', (e) => {
      if (e.code === 'Space' || e.code === 'ArrowUp') {
        e.preventDefault(); // —á—Ç–æ–±—ã –Ω–µ —Å–∫—Ä–æ–ª–ª–∏–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        jump();
      }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–ø–∞ (–¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö) ‚Äî –ø—Ä–∏ —Ç–∞–ø–µ —Ç–æ–∂–µ –ø—Ä—ã–≥–∞–µ–º
    // –ú–æ–∂–Ω–æ –≤–µ—à–∞—Ç—å –Ω–∞ canvas –∏–ª–∏ –Ω–∞ –≤–µ—Å—å –±–ª–æ–∫ .game-container
    const gameContainer = document.querySelector('.game-container');
    gameContainer.addEventListener('click', () => {
      // –ï—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–∏—à—ë–ª—Å—è –Ω–∞ –∫–Ω–æ–ø–∫—É - –Ω–µ –ø—Ä—ã–≥–∞–µ–º
      // (–≤–¥—Ä—É–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª "–ó–∞–Ω–æ–≤–æ" –∏–ª–∏ "–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π")
    });
    // –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –≤–µ—à–∞–µ–º –Ω–∞ canvas
    canvas.addEventListener('click', () => {
      jump();
    });

    // –ó–∞–ø—É—Å–∫
    startGame();
  </script>
</body>
</html>
